# Maintainer: Jeremy Huntwork <jhuntwork@lightcubesolutions.com>

pkgname=pkgconf
pkgver=1.3.6
pkgrel=1
pkgdesc='An API-driven pkg-config replacement'
arch=('x86_64')
url='https://github.com/pkgconf/pkgconf'
license=('BSD')
groups=('base')
depends=()
makedepends=()
options=()
changelog=ChangeLog
source=(
    "https://github.com/pkgconf/pkgconf/releases/download/pkgconf-${pkgver}/pkgconf-${pkgver}.tar.xz"
)

sha256sums=(
    95331d7e77c43a253cc677f87a319b5f8e36b163b715dc155df2711fcddd5437
)


build() {
    cd "${srcdir}/${pkgname}-${pkgver}"
    LDFLAGS='-Wl,-static' \
      ./configure \
      --prefix='' \
      --disable-shared \
      --with-system-libdir=/lib \
      --with-system-includedir=/include
    make
}

package() {
    cd "${srcdir}/${pkgname}-${pkgver}"
    make DESTDIR="$pkgdir" install
    ln -s pkgconf "${pkgdir}/bin/pkg-config"
}
