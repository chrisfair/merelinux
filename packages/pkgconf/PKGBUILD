# Maintainer: Jeremy Huntwork <jhuntwork@lightcubesolutions.com>

pkgname=pkgconf
pkgver=1.3.7
pkgrel=1
pkgdesc='An API-driven pkg-config replacement'
arch=('x86_64')
url='https://github.com/pkgconf/pkgconf'
license=('BSD')
groups=('base')
depends=()
makedepends=(libtool)
options=()
changelog=ChangeLog
source=(
    "${url}/archive/pkgconf-${pkgver}.tar.gz"
)

sha256sums=(
    0c624678e8a8b027b532830b01c6d99542c3f967b28ccff9933b52a8a1009677
)


build() {
    cd "${srcdir}/pkgconf-pkgconf-${pkgver}"
    ./autogen.sh
    LDFLAGS='-Wl,-static' \
      ./configure \
      --prefix='' \
      --disable-shared \
      --with-system-libdir=/lib \
      --with-system-includedir=/include
    make
}

package() {
    cd "${srcdir}/pkgconf-pkgconf-${pkgver}"
    make DESTDIR="$pkgdir" install
    ln -s pkgconf "${pkgdir}/bin/pkg-config"
}
