

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. Extra Packages &mdash; Mere Linux 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Workflow" href="../../workflow.html" />
    <link rel="prev" title="3. Build Essential and Core Packages" href="core.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Mere Linux
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../gettingstarted/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../static_tools.html">Static Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Bootstrapping</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../setup_environment.html">Setup a Default Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../temptools.html">Temporary Tools</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../packaging.html">Packaging the Final System</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="prepare.html">1. Prepare for Packaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="base-layout.html">2. Base Layout</a></li>
<li class="toctree-l4"><a class="reference internal" href="core.html">3. Build Essential and Core Packages</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">4. Extra Packages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../workflow.html">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scripts.html">Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../concepts/index.html">Concepts</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Mere Linux</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Development</a> &raquo;</li>
        
          <li><a href="../index.html">Bootstrapping</a> &raquo;</li>
        
          <li><a href="../packaging.html">Packaging the Final System</a> &raquo;</li>
        
      <li>4. Extra Packages</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="extra-packages">
<h1>4. Extra Packages<a class="headerlink" href="#extra-packages" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>This section will highlight building a few other packages which are not
strictly required, but either demonstrate functionality, or make the system
more comfortable to interact with.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Disk Image Packages and Demo Packages are considered required in order
to complete the process in this documentation. The Comfort Packages are
optional.</p>
</div>
<div class="section" id="disk-image-packages">
<h2>4.1. Disk Image Packages<a class="headerlink" href="#disk-image-packages" title="Permalink to this headline">¶</a></h2>
<p>There are a few packages that are required in order to create a bootable
disk image, but are not strictly necessary at run-time.</p>
<div class="section" id="e2fsprogs">
<h3>4.1.1. E2fsprogs<a class="headerlink" href="#e2fsprogs" title="Permalink to this headline">¶</a></h3>
<p>Although <cite>busybox</cite> provides some of the tools found in this package,
the ones <cite>e2fsprogs</cite> provides for creating filesystems are preferable.
Also there are two libraries that other packages use: <cite>libblkid</cite>, and
<cite>libuuid</cite>. For example, <cite>syslinux</cite> requires <cite>libuuid</cite>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/e2fsprogs -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/e2fsprogs
</pre></div>
</div>
</div>
<div class="section" id="syslinux">
<h3>4.1.2. Syslinux<a class="headerlink" href="#syslinux" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/syslinux -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/syslinux
</pre></div>
</div>
</div>
<div class="section" id="popt">
<h3>4.1.3. Popt<a class="headerlink" href="#popt" title="Permalink to this headline">¶</a></h3>
<p>Popt is a command line argument parser that Gptfdisk uses.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/popt -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/popt
</pre></div>
</div>
</div>
<div class="section" id="gptfdisk">
<h3>4.1.4. Gptfdisk<a class="headerlink" href="#gptfdisk" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/gptfdisk -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/gptfdisk
</pre></div>
</div>
</div>
<div class="section" id="libdevmapper">
<h3>4.1.5. Libdevmapper<a class="headerlink" href="#libdevmapper" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/libdevmapper -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/libdevmapper
</pre></div>
</div>
</div>
<div class="section" id="git">
<h3>4.1.6. Git<a class="headerlink" href="#git" title="Permalink to this headline">¶</a></h3>
<p>The next package, kpartx, desn’t have a release archive, but only
uses git tags for releases, so we need to build git so that Pacman’s
<strong class="command">makepkg</strong> can retrieve the source.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/git -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/git
</pre></div>
</div>
</div>
<div class="section" id="kpartx">
<h3>4.1.7. Kpartx<a class="headerlink" href="#kpartx" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/kpartx -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/kpartx
</pre></div>
</div>
</div>
</div>
<div class="section" id="demo-packages">
<h2>4.2. Demo Packages<a class="headerlink" href="#demo-packages" title="Permalink to this headline">¶</a></h2>
<p>For demo purposes, all we really need is a simple service to run at boot-time
and show that the system is working. <cite>nginx</cite> serves this nicely. It
requires the PCRE library, however, so build that first:</p>
<div class="section" id="pcre">
<h3>4.2.1. PCRE<a class="headerlink" href="#pcre" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/pcre -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/pcre
</pre></div>
</div>
</div>
<div class="section" id="nginx">
<h3>4.2.2. Nginx<a class="headerlink" href="#nginx" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/nginx -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/nginx
</pre></div>
</div>
</div>
</div>
<div class="section" id="comfort-packages">
<h2>4.3. Comfort Packages<a class="headerlink" href="#comfort-packages" title="Permalink to this headline">¶</a></h2>
<p>Recall from the <a class="reference internal" href="../../../index.html#design-considerations-and-goals"><span class="std std-ref">Design Considerations and Goals</span></a> section that one of the
stated goals of Mere is to <em>run services</em>, and to do so in a manageable,
scalable fashion. This means that catering to use cases where one manages an
individual servier by logging in, either locally or via ssh, and manipulating
files is an anti-pattern we discourage. By extension, certain packages and
utilities aren’t strictly necessary to achieve such a goal.</p>
<p>That being said, when developing or testing it can still be extremely useful
to have a more comfortable environment. So here are a few other packages
which may make the system seem more friendly.</p>
<div class="section" id="mksh">
<h3>4.3.1. Mksh<a class="headerlink" href="#mksh" title="Permalink to this headline">¶</a></h3>
<p><strong class="command">mksh</strong> is a more full-featured shell than <strong class="command">sh</strong>, but still
more lightweight than <strong class="command">bash</strong>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/mksh -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/mksh
</pre></div>
</div>
</div>
<div class="section" id="mandoc">
<h3>4.3.2. Mandoc<a class="headerlink" href="#mandoc" title="Permalink to this headline">¶</a></h3>
<p><cite>mandoc</cite> provides a small man page reader.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/mandoc -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/mandoc
</pre></div>
</div>
</div>
<div class="section" id="dropbear">
<h3>4.3.3. Dropbear<a class="headerlink" href="#dropbear" title="Permalink to this headline">¶</a></h3>
<p><cite>dropbear</cite> is a lightweight SSH server.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/dropbear -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/dropbear
</pre></div>
</div>
</div>
<div class="section" id="vim">
<h3>4.3.4. Vim<a class="headerlink" href="#vim" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the package</span>
sudo ./scripts/build.sh packages/vim -a

<span class="c1"># Add any new packages built to the repo</span>
sudo ./scripts/add_all_new_pkgs.sh packages/vim
</pre></div>
</div>
<p>That’s it! That’s everything needed to demonstrate the usability of the system.
There are other package recipes included in the merelinux source tree that you
can build or modify if you choose. To see the system in action, head to the
<a class="reference internal" href="../../../gettingstarted/index.html#create-disk-image"><span class="std std-ref">Creating a Disk Image</span></a> section.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../workflow.html" class="btn btn-neutral float-right" title="Workflow" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="core.html" class="btn btn-neutral float-left" title="3. Build Essential and Core Packages" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Jeremy Huntwork

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>